15.2 Object Objects
===================

>>>>>CM:GREEN
15.2.1 The Object Constructor Called as a Function
>>>>>CM:GREEN
==================================================

>>>>>CM:GREEN
When Object is called as a function rather than as a constructor, it performs a type conversion.

>>>>>CM:GREEN
15.2.1.1 Object ( [ value ] )
>>>>>CM:GREEN
=============================

>>>>>CM:GREEN
When the Object function is called with no arguments or with one argument value, the following steps
>>>>>CM:GREEN
are taken:

>>>>>CM:GREEN
1.  If value is null, undefined or not supplied, create and return a new Object object exactly as if
>>>>>CM:GREEN
    the standard built-in Object constructor had been called with the same arguments (15.2.2.1).
>>>>>CM:GREEN
2.  Return ToObject(value).

>>>>>CM:GREEN
15.2.2 The Object Constructor
>>>>>CM:GREEN
=============================

>>>>>CM:GREEN
When Object is called as part of a new expression, it is a constructor that may create an object.

>>>>>CM:GREEN
15.2.2.1 new Object ( [ value ] )
>>>>>CM:GREEN
=================================

>>>>>CM:GREEN
When the Object constructor is called with no arguments or with one argument value, the following
>>>>>CM:GREEN
steps are taken:

>>>>>CM:GREEN
1.  If value is supplied, then
>>>>>CM:GREEN
    1.  If Type(value) is Object, then
>>>>>CM:GREEN
        1.  If the value is a native ECMAScript object, do not create a new object but simply return
>>>>>CM:GREEN
            value.
>>>>>CM:GREEN
        2.  If the value is a host object, then actions are taken and a result is returned in an
>>>>>CM:GREEN
            implementation-dependent manner that may depend on the host object.

>>>>>CM:GREEN
    2.  If Type(value) is String, return ToObject(value).
>>>>>CM:GREEN
    3.  If Type(value) is Boolean, return ToObject(value).
>>>>>CM:GREEN
    4.  If Type(value) is Number, return ToObject(value).

>>>>>CM:GREEN
2.  Assert: The argument value was not supplied or its type was Null or Undefined.
>>>>>CM:GREEN
3.  Let obj be a newly created native ECMAScript object.
>>>>>CM:GREEN
4.  Set the [[Prototype]] internal property of obj to the standard built-in Object prototype object
>>>>>CM:GREEN
    (15.2.4).
>>>>>CM:GREEN
5.  Set the [[Class]] internal property of obj to "Object".
>>>>>CM:GREEN
6.  Set the [[Extensible]] internal property of obj to true.
>>>>>CM:GREEN
7.  Set all the internal methods of obj as specified in 8.12.
>>>>>CM:GREEN
8.  Return obj.

15.2.3 Properties of the Object Constructor
===========================================

The value of the [[Prototype]] internal property of the Object constructor is the standard built-in
Function prototype object.

Besides the internal properties and the length property (whose value is 1), the Object constructor
has the following properties:

>>>>>CM:GREEN
15.2.3.1 Object.prototype
>>>>>CM:GREEN
=========================

>>>>>CM:GREEN
The initial value of Object.prototype is the standard built-in Object prototype object (15.2.4).

>>>>>CM:GREEN
This property has the attributes {[[Writable]]: false, [[Enumerable]]: false, [[Configurable]]:
>>>>>CM:GREEN
false }.

>>>>>CM:GREEN
15.2.3.2 Object.getPrototypeOf ( O )
>>>>>CM:GREEN
====================================

>>>>>CM:GREEN
When the getPrototypeOf function is called with argument O, the following steps are taken:

>>>>>CM:GREEN
1.  If Type(O) is not Object throw a TypeError exception.
>>>>>CM:GREEN
2.  Return the value of the [[Prototype]] internal property of O.

15.2.3.3 Object.getOwnPropertyDescriptor ( O, P )
=================================================

When the getOwnPropertyDescriptor function is called, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  Let name be ToString(P).
3.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O with argument
    name.
4.  Return the result of calling FromPropertyDescriptor(desc) (8.10.4).

>>>>>CM:GREEN
15.2.3.4 Object.getOwnPropertyNames ( O )
>>>>>CM:GREEN
=========================================

>>>>>CM:GREEN
When the getOwnPropertyNames function is called, the following steps are taken:

>>>>>CM:GREEN
1.  If Type(O) is not Object throw a TypeError exception.
>>>>>CM:GREEN
2.  Let array be the result of creating a new object as if by the expression new Array () where
>>>>>CM:GREEN
    Array is the standard built-in constructor with that name.
>>>>>CM:GREEN
3.  Let n be 0.
>>>>>CM:GREEN
4.  For each named own property P of O
>>>>>CM:GREEN
    1.  Let name be the String value that is the name of P.
>>>>>CM:GREEN
    2.  Call the [[DefineOwnProperty]] internal method of array with arguments ToString(n), the
>>>>>CM:GREEN
        PropertyDescriptor {[[Value]]: name, [[Writable]]: true, [[Enumerable]]: true,
>>>>>CM:GREEN
        [[Configurable]]: true}, and false.
>>>>>CM:GREEN
    3.  Increment n by 1.

>>>>>CM:GREEN
5.  Return array.

>>>>>CM:GREEN
NOTE If O is a String instance, the set of own properties processed in step 4 includes the implicit
>>>>>CM:GREEN
properties defined in 15.5.5.2 that correspond to character positions within the object’s
>>>>>CM:GREEN
[[PrimitiveValue]] String.

15.2.3.5 Object.create ( O [, Properties] )
===========================================

The create function creates a new object with a specified prototype. When the create function is
called, the following steps are taken:

1.  If Type(O) is not Object or Null throw a TypeError exception.
2.  Let obj be the result of creating a new object as if by the expression new Object() where Object
    is the standard built-in constructor with that name
3.  Set the [[Prototype]] internal property of obj to O.
4.  If the argument Properties is present and not undefined, add own properties to obj as if by
    calling the standard built-in function Object.defineProperties with arguments obj and
    Properties.
5.  Return obj.

>>>>>CM:GREEN
15.2.3.6 Object.defineProperty ( O, P, Attributes )
>>>>>CM:GREEN
===================================================

>>>>>CM:GREEN
The defineProperty function is used to add an own property and/or update the attributes of an
>>>>>CM:GREEN
existing own property of an object. When the defineProperty function is called, the following steps
>>>>>CM:GREEN
are taken:

>>>>>CM:GREEN
1.  If Type(O) is not Object throw a TypeError exception.
>>>>>CM:GREEN
2.  Let name be ToString(P).
>>>>>CM:GREEN
3.  Let desc be the result of calling ToPropertyDescriptor with Attributes as the argument.
>>>>>CM:GREEN
4.  Call the [[DefineOwnProperty]] internal method of O with arguments name, desc, and true.
>>>>>CM:GREEN
5.  Return O.

15.2.3.7 Object.defineProperties ( O, Properties )
==================================================

The defineProperties function is used to add own properties and/or update the attributes of existing
own properties of an object. When the defineProperties function is called, the following steps are
taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  Let props be ToObject(Properties).
3.  Let names be an internal list containing the names of each enumerable own property of props.
4.  Let descriptors be an empty internal List.
5.  For each element P of names in list order,
    1.  Let descObj be the result of calling the [[Get]] internal method of props with P as the
        argument.
    2.  Let desc be the result of calling ToPropertyDescriptor with descObj as the argument.
    3.  Append the pair (a two element List) consisting of P and desc to the end of descriptors.

6.  For each pair from descriptors in list order,
    1.  Let P be the first element of pair.
    2.  Let desc be the second element of pair.
    3.  Call the [[DefineOwnProperty]] internal method of O with arguments P, desc, and true.

7.  Return O.

If an implementation defines a specific order of enumeration for the for-in statement, that same
enumeration order must be used to order the list elements in step 3 of this algorithm.

15.2.3.8 Object.seal ( O )
==========================

When the seal function is called, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  For each named own property name P of O,
    1.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O with P.
    2.  If desc.[[Configurable]] is true, set desc.[[Configurable]] to false.
    3.  Call the [[DefineOwnProperty]] internal method of O with P, desc, and true as arguments.

3.  Set the [[Extensible]] internal property of O to false.
4.  Return O.

15.2.3.9 Object.freeze ( O )
============================

When the freeze function is called, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  For each named own property name P of O,
    1.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O with P.
    2.  If IsDataDescriptor(desc) is true, then
        1.  If desc.[[Writable]] is true, set desc.[[Writable]] to false.

    3.  If desc.[[Configurable]] is true, set desc.[[Configurable]] to false.
    4.  Call the [[DefineOwnProperty]] internal method of O with P, desc, and true as arguments.

3.  Set the [[Extensible]] internal property of O to false.
4.  Return O.

>>>>>CM:GREEN
15.2.3.10 Object.preventExtensions ( O )
>>>>>CM:GREEN
========================================

>>>>>CM:GREEN
When the preventExtensions function is called, the following steps are taken:

>>>>>CM:GREEN
1.  If Type(O) is not Object throw a TypeError exception.
>>>>>CM:GREEN
2.  Set the [[Extensible]] internal property of O to false.
>>>>>CM:GREEN
3.  Return O.

15.2.3.11 Object.isSealed ( O )
===============================

When the isSealed function is called with argument O, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  For each named own property name P of O,
    1.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O with P.
    2.  If desc.[[Configurable]] is true, then return false.

3.  If the [[Extensible]] internal property of O is false, then return true.
4.  Otherwise, return false.

15.2.3.12 Object.isFrozen ( O )
===============================

When the isFrozen function is called with argument O, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  For each named own property name P of O,
    1.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O with P.
    2.  If IsDataDescriptor(desc) is true then
        1.  If desc.[[Writable]] is true, return false.

    3.  If desc.[[Configurable]] is true, then return false.

3.  If the [[Extensible]] internal property of O is false, then return true.
4.  Otherwise, return false.

15.2.3.13 Object.isExtensible ( O )
===================================

When the isExtensible function is called with argument O, the following steps are taken:

1.  If Type(O) is not Object throw a TypeError exception.
2.  Return the Boolean value of the [[Extensible]] internal property of O.

15.2.3.14 Object.keys ( O )
===========================

When the keys function is called with argument O, the following steps are taken:

1.  If the Type(O) is not Object, throw a TypeError exception.
2.  Let n be the number of own enumerable properties of O
3.  Let array be the result of creating a new Object as if by the expression new Array(n) where
    Array is the standard built-in constructor with that name.
4.  Let index be 0.
5.  For each own enumerable property of O whose name String is P
    1.  Call the [[DefineOwnProperty]] internal method of array with arguments ToString(index), the
        PropertyDescriptor {[[Value]]: P, [[Writable]]: true, [[Enumerable]]: true,
        [[Configurable]]: true}, and false.
    2.  Increment index by 1.

6.  Return array.

If an implementation defines a specific order of enumeration for the for-in statement, that same
enumeration order must be used in step 5 of this algorithm.

15.2.4 Properties of the Object Prototype Object
================================================

The value of the [[Prototype]] internal property of the Object prototype object is null, the value
of the [[Class]] internal property is "Object", and the initial value of the [[Extensible]] internal
property is true.

15.2.4.1 Object.prototype.constructor
=====================================

The initial value of Object.prototype.constructor is the standard built-in Object constructor.

>>>>>CM:GREEN
15.2.4.2 Object.prototype.toString ( )
>>>>>CM:GREEN
======================================

>>>>>CM:GREEN
When the toString method is called, the following steps are taken:

>>>>>CM:GREEN
1.  If the this value is undefined, return "[object Undefined]".
>>>>>CM:GREEN
2.  If the this value is null, return "[object Null]".
>>>>>CM:GREEN
3.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
4.  Let class be the value of the [[Class]] internal property of O.
>>>>>CM:GREEN
5.  Return the String value that is the result of concatenating the three Strings "[object ", class,
>>>>>CM:GREEN
    and "]".

>>>>>CM:GREEN
15.2.4.3 Object.prototype.toLocaleString ( )
>>>>>CM:GREEN
============================================

>>>>>CM:GREEN
When the toLocaleString method is called, the following steps are taken:

>>>>>CM:GREEN
1.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
2.  Let toString be the result of calling the [[Get]] internal method of O passing “toString” as the
>>>>>CM:GREEN
    argument.
>>>>>CM:GREEN
3.  If IsCallable(toString) is false, throw a TypeError exception.
>>>>>CM:GREEN
4.  Return the result of calling the [[Call]] internal method of toString passing O as the this
>>>>>CM:GREEN
    value and no arguments.

>>>>>CM:GREEN
NOTE 1 This function is provided to give all Objects a generic toLocaleString interface, even though
>>>>>CM:GREEN
not all may use it. Currently, Array, Number, and Date provide their own locale-sensitive
>>>>>CM:GREEN
toLocaleString methods.

>>>>>CM:GREEN
NOTE 2 The first parameter to this function is likely to be used in a future version of this
>>>>>CM:GREEN
standard; it is recommended that implementations do not use this parameter position for anything
>>>>>CM:GREEN
else.

>>>>>CM:GREEN
15.2.4.4 Object.prototype.valueOf ( )
>>>>>CM:GREEN
=====================================

>>>>>CM:GREEN
When the valueOf method is called, the following steps are taken:

>>>>>CM:GREEN
1.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
2.  If O is the result of calling the Object constructor with a host object (15.2.2.1), then
>>>>>CM:GREEN
    1.  Return either O or another value such as the host object originally passed to the
>>>>>CM:GREEN
        constructor. The specific result that is returned is implementation-defined.

>>>>>CM:GREEN
3.  Return O.

>>>>>CM:GREEN
15.2.4.5 Object.prototype.hasOwnProperty (V)
>>>>>CM:GREEN
============================================

>>>>>CM:GREEN
When the hasOwnProperty method is called with argument V, the following steps are taken:

>>>>>CM:GREEN
1.  Let P be ToString(V).
>>>>>CM:GREEN
2.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
3.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O passing P as the
>>>>>CM:GREEN
    argument.
>>>>>CM:GREEN
4.  If desc is undefined, return false.
>>>>>CM:GREEN
5.  Return true.

>>>>>CM:GREEN
NOTE 1 Unlike [[HasProperty]] (8.12.6), this method does not consider objects in the prototype
>>>>>CM:GREEN
chain.

>>>>>CM:GREEN
NOTE 2 The ordering of steps 1 and 2 is chosen to ensure that any exception that would have been
>>>>>CM:GREEN
thrown by step 1 in previous editions of this specification will continue to be thrown even if the
>>>>>CM:GREEN
this value is undefined or null.

>>>>>CM:GREEN
15.2.4.6 Object.prototype.isPrototypeOf (V)
>>>>>CM:GREEN
===========================================

>>>>>CM:GREEN
When the isPrototypeOf method is called with argument V, the following steps are taken:

>>>>>CM:GREEN
1.  If V is not an object, return false.
>>>>>CM:GREEN
2.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
3.  Repeat
>>>>>CM:GREEN
    1.  Let V be the value of the [[Prototype]] internal property of V.
>>>>>CM:GREEN
    2.  if V is null, return false
>>>>>CM:GREEN
    3.  If O and V refer to the same object, return true.

>>>>>CM:GREEN
NOTE The ordering of steps 1 and 2 is chosen to preserve the behaviour specified by previous
>>>>>CM:GREEN
editions of this specification for the case where V is not an object and the this value is undefined
>>>>>CM:GREEN
or null.

>>>>>CM:GREEN
15.2.4.7 Object.prototype.propertyIsEnumerable (V)
>>>>>CM:GREEN
==================================================

>>>>>CM:GREEN
When the propertyIsEnumerable method is called with argument V, the following steps are taken:

>>>>>CM:GREEN
1.  Let P be ToString(V).
>>>>>CM:GREEN
2.  Let O be the result of calling ToObject passing the this value as the argument.
>>>>>CM:GREEN
3.  Let desc be the result of calling the [[GetOwnProperty]] internal method of O passing P as the
>>>>>CM:GREEN
    argument.
>>>>>CM:GREEN
4.  If desc is undefined, return false.
>>>>>CM:GREEN
5.  Return the value of desc.[[Enumerable]].

>>>>>CM:GREEN
NOTE 1 This method does not consider objects in the prototype chain.

>>>>>CM:GREEN
NOTE 2 The ordering of steps 1 and 2 is chosen to ensure that any exception that would have been
>>>>>CM:GREEN
thrown by step 1 in previous editions of this specification will continue to be thrown even if the
>>>>>CM:GREEN
this value is undefined or null.

15.2.5 Properties of Object Instances
=====================================

Object instances have no special properties beyond those inherited from the Object prototype object.
